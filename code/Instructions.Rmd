---
title: "Making static maps"
author: "Jessica Bernardin"
date: "10/20/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Your assignment

The goals for this assignment are to:

- practice making maps with the various packages
- think about composition and the grammar of graphics
- critique various maps

_By the end of the assignment_ you should have several static maps displaying the datasets we've used in the last few weeks.

# Task 1: Show me your ugly maps!!
Find 2 examples of maps that you think are 'bad'. 

```{r badmaps, echo=TRUE, fig.cap= c("Bad Map Temp", "Bad Map Watersheds"), out.width = '100%'}

knitr::include_graphics("img/miniproject_badmap.png")
knitr::include_graphics("img/watershed_badmap.png")

```


_Question 1_ Why are they bad? What might improve them? 

- The bad maps are maps I plotted from my mini project.  The first map the CRS are off, the points are in the ocean, the map is stretched, and the colors are horrible.  Also the scale/key isn't labeled so no one knows what the colors or points are.  To improve this map I would label the points (with smaller dots) and include units on the key.  I would also work on cropping so that the extra space was eliminated.  Lastly, I would change the colors to be more appealing.

- The second map has not text, no labels, no colors and it is really busy.

_Question 2_ Rely on the Healy and Wilke texts to provide some structure to your answers.

- In general these figures have aesthetic problems, are unclear, and are objectively incorrect because the wrong CRS.

# Task 2: Load your libraries and build a dataframe
You can choose whichever datasets you'd like from the past several months as the subject for your mapping. You'll need to use at least one tabular join, one spatial join, and one extraction to create the dataframe. Load the packages, the data, and make sure everything is projected here. Give me a sense for what you are hoping to map.

```{r packages}

library(tidycensus)
library(tidyverse)
library(pander)
library(sf)
library(terra)
library(units)
library(purrr)
library(sp)
library(profvis)
library(ggmap)
library(cartogram)
library(patchwork)
library(tmap)
library(viridis)

```


```{r data}

#one tabular join
#one spatial join
#one extract

#mammal richness for the western us (raster)
mammal.rich <- rast("/opt/data/session16//Mammals_total_richness.tif")
mammal.rich <- catalyze(mammal.rich)
mammal.rich <- mammal.rich[[2]]

#median income by state (spatial)
state.income <- tidycensus:: get_acs(geography = "state", 
              variables = c(medianincome = "B19013_001"),
              year = 2018,
              key = key,
              geometry = TRUE)

#park names and visits in the intermountain west (tabular data, can join by state)
park.visits <- read.csv("/opt/data/session14//ParkVisits_2020IWPW.csv", skip = 3)
colnames(park.visits)
```


# Task 3: Build a map with Tmap
Practice making a quick map with tmap. 

```{r tmap}

```





# Task 4: Build a choropleth with ggplot
Your map should have a basemap, should rely on more than one aesthetic (color, transparency, etc), and combine multiple layers.

```{r chloromap}





```



# Task 5: Build 2 cartograms
Follow the examples to build cartograms that display your region of interest based on variables other than area.

```{r cart}

```




_Question 3:_ Reflect on the different maps you've made, what do the different visualizations tell you about the data you plotted?

- 

_Question 4:_ How might you improve the maps you've made?

- 

_Question 5:_ Is a map the best way to evaluate the data you worked with? Why or Why not?

- 
